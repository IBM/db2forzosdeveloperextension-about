<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.0">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2021-04-01T15:42:55-07:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">IBM Db2 for z/OS Developer Extension</title><subtitle>Tutorials and how-to information for using IBM Db2 for z/OS Developer Extension.</subtitle><entry><title type="html">Committing and rolling back changes</title><link href="http://localhost:4000/2021/03/16/Committing-and-rolling-back-changes.html" rel="alternate" type="text/html" title="Committing and rolling back changes" /><published>2021-03-16T00:00:00-07:00</published><updated>2021-03-16T00:00:00-07:00</updated><id>http://localhost:4000/2021/03/16/Committing-and-rolling-back-changes</id><content type="html" xml:base="http://localhost:4000/2021/03/16/Committing-and-rolling-back-changes.html">&lt;p&gt;Db2 Developer Extension provides a lot of flexibility with committing and rolling back the results of running SQL statements. This granular level of control is especially useful when you’re prototyping and testing because it allows you to identify which statements run successfully and which cause errors without potentially corrupting your test system.&lt;/p&gt;

&lt;p&gt;For example, you can:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Commit the changes for each SQL statement as soon as it completes successfully&lt;/li&gt;
  &lt;li&gt;Commit the changes for all SQL statements only if all the statements run successfully&lt;/li&gt;
  &lt;li&gt;Roll back all of the changes even if all of the statements run successfully&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Depending on the commit or rollback option you select, you have the following options for what happens when an error occurs while running your SQL:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Continue to process the remaining SQL statements that you selected to run&lt;/li&gt;
  &lt;li&gt;Stop processing as soon as the first error occurs&lt;/li&gt;
  &lt;li&gt;Stop processing and immediately roll back all changes&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You set these options by right-clicking in your file and selecting &lt;strong&gt;Run SQL Options&lt;/strong&gt; from the context menu to display the &lt;strong&gt;JDBC runtime options&lt;/strong&gt; view. You use the &lt;strong&gt;Action when script runs successfully&lt;/strong&gt; box to set commit and rollback options, and you use the &lt;strong&gt;Action when an error occurs&lt;/strong&gt; box to control how Db2 Developer Extension responds when a SQL statement fails.&lt;/p&gt;

&lt;p&gt;Let’s start with this scenario: Our company has just formed a new Client Support department and has staffed it with some existing employees and some new employees. We need to update two tables with information about the new department and its members. We’ll use a couple of Db2-supplied sample tables, &lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/SSEPEK_12.0.0/intro/src/tpc/db2z_sampletablesdepartment.html&quot;&gt;DSN8C10.DEPT&lt;/a&gt; and &lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/SSEPEK_12.0.0/intro/src/tpc/db2z_sampletablesemployeemain.html&quot;&gt;DSN8C10.EMP&lt;/a&gt;, to demonstrate how the commit, roll back, and error-handling options work.&lt;/p&gt;

&lt;p&gt;Here’s the correct SQL for making these changes:&lt;/p&gt;
&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;UPDATE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DSN8C10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DEPT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SET&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DEPTNAME&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'CLIENT SUPPORT'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DEPTNO&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'E01'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;INSERT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;INTO&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DSN8C10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DEPT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;VALUES&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'A01'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'AI AD TEAM'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'000070'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'D01'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'SVL'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DSN8C10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DEPT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DEPTNO&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'A01'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;UPDATE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DSN8C10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;EMP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SET&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SALARY&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SALARY&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WORKDEPT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'A00'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DSN8C10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;EMP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WORKDEPT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'A00'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To help demonstrate the available actions when an error occurs, we’re going to introduce a few errors into this SQL in the following sections.&lt;/p&gt;

&lt;h2 id=&quot;commit-after-each-statement&quot;&gt;Commit after each statement&lt;/h2&gt;

&lt;p&gt;Select &lt;strong&gt;Commit after each statement&lt;/strong&gt; to commit each individual SQL statement after it runs successfully.  &lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/commit-rollback-commit-after-each-stmt.png&quot; alt=&quot;Commit after each statement dialog&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Here’s the SQL to update the DSN8C10.DEPT and DSN8C10.EMP tables. In this example, the INSERT statement and the second UPDATE and SELECT statements contain errors.&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;UPDATE DSN8C10.DEPT SET DEPTNAME = 'CLIENT SUPPORT' WHERE DEPTNO = 'E01';
INSERT INTO DSN8C10.DEPT VALUES (‘A01’, ‘AI AD TEAM’, ‘M001’, ‘D01’);
SELECT * FROM DSN8C10.DEPT WHERE DEPTNO = 'A01';
UPDATE DSN8C10.EMP SET SALARY = SALARY * 1.1 WHERE DEPT = 'A00';
SELECT * FROM DSN8C10.EMP WHERE DEPTNO = 'A00';
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And here are the results from running that SQL, which resulted in three errors:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If you select &lt;strong&gt;Processing continues&lt;/strong&gt;, all of the SQL statements will continue to run after the first error (INSERT INTO DSN8C10.DEPT…) occurred, and the successful UPDATE statement will be committed. The results would look like this:&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/commit-rollback-commit-after-each-stmt-processing-continues.png&quot; alt=&quot;Commit after each statement Processing continues results&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If you select &lt;strong&gt;Processing stops&lt;/strong&gt;, all of the SQL statements after the first error will not be not be run, but the successful UPDATE statement will still be committed. The results would look like this instead:&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/commit-rollback-commit-after-each-stmt-processing-stops.png&quot; alt=&quot;Commit after each statement Processing stops results&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If you correct the three statements that are causing errors so that all of these statements run error free, each statement will be committed as soon as it ran successfully, regardless of the error action that you selected, and the results would look like this:&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/commit-rollback-successful-results.png&quot; alt=&quot;Commit on completion successful results&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;commit-on-completion&quot;&gt;Commit on completion&lt;/h2&gt;

&lt;p&gt;Select &lt;strong&gt;Commit on completion&lt;/strong&gt; to wait until all of the SQL statements that you have selected to run have completed before committing any of them.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/commit-rollback-commit-on-completion.png&quot; alt=&quot;Commit on completion dialog&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Here’s the SQL to update the DSN8C10.DEPT and DSN8C10.EMP tables, which contains one error in the INSERT statement:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;UPDATE DSN8C10.DEPT SET DEPTNAME = 'CLIENT SUPPORT' WHERE DEPTNO = 'E01';
INSERT INTO DSN8C10.DEPT VALUES  ('A01', 'AI AD TEAM', 'M001, 'D01');
SELECT * FROM DSN8C10.DEPT WHERE DEPTNO = 'A01';
UPDATE DSN8C10.EMP SET SALARY = SALARY * 1.1 WHERE WORKDEPT = 'A00';
SELECT * FROM DSN8C10.EMP WHERE WORKDEPT = 'A00';
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And here are the results from running that SQL, which resulted in a single error:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If you select &lt;strong&gt;Processing continues&lt;/strong&gt;, all the SQL statements that you selected will continue to run after an error occurs, and both UPDATE statements will be committed when processing ends. The results would look like this:&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/commit-rollback-commit-on-completion-processing-continues.png&quot; alt=&quot;Commit on completion Processing continues results&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If you select &lt;strong&gt;Processing stops&lt;/strong&gt;, all of the SQL statements after the first error will not be run. Only the first UPDATE statement will be committed when processing ends. The results would look like this:&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/commit-rollback-commit-on-completion-processing-stops.png&quot; alt=&quot;Commit on completion Processing stops results&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If you select &lt;strong&gt;Processing stops and changes are rolled back&lt;/strong&gt;, all of the SQL statements after the first error will not be run. Changes from the first UPDATE statement will not be committed. The results would look like this:&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/commit-rollback-commit-on-completion-rollback-changes.png&quot; alt=&quot;Commit on completion Roll back changes results&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If you correct the INSERT statement so all of the SQL statements run error free, each statement would be committed after the last statement ran successfully regardless of the error action that you selected, and the results would look like this:&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/commit-rollback-successful-results.png&quot; alt=&quot;Commit on completion successful results&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;roll-back-changes-on-completion&quot;&gt;Roll back changes on completion&lt;/h2&gt;

&lt;p&gt;Select &lt;strong&gt;Roll back changes on completion&lt;/strong&gt; if you don’t want to commit any changes that result from running your SQL, even if everything runs error free.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/commit-rollback-rollback-on-completion.png&quot; alt=&quot;Roll back changes on completion&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Here’s the SQL to update the DSN8C10.DEPT and DSN8C10.EMP tables, which contains one error in the INSERT statement:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;UPDATE DSN8C10.DEPT SET DEPTNAME = 'CLIENT SUPPORT' WHERE DEPTNO = 'E01';
INSERT INTO DSN8C10.DEPT VALUES  ('A01', 'AI AD TEAM', 'M001', 'D01');
SELECT * FROM DSN8C10.DEPT WHERE DEPTNO = 'A01';
UPDATE DSN8C10.EMP SET SALARY = SALARY * 1.1 WHERE WORKDEPT = 'A00';
SELECT * FROM DSN8C10.EMP WHERE WORKDEPT = 'A00'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And here are the results from running that SQL, which resulted in a single error:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If you select &lt;strong&gt;Processing continues&lt;/strong&gt;, all the SQL statements that you selected will continue to run after an error occurs. No changes will be committed. The results would look like this:&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/commit-rollback-rollback-on-completion-processing-continues.png&quot; alt=&quot;Roll back changes on completion Processing continues results&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If you select &lt;strong&gt;Processing stops and changes are rolled back&lt;/strong&gt;, all of the SQL statements after the first error will not be run. Changes from the first UPDATE statement are not committed. The results would look like this:&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/commit-rollback-rollback-on-completion-processing-stops-rollback-changes.png&quot; alt=&quot;Roll back changes on completion Processing stops results and changes are rolled back results&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If you correct the INSERT statement so all of the SQL statements run error free, no changes will be committed regardless of the error action that was selected, and the results would look like this:&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/commit-rollback-successful-results.png&quot; alt=&quot;Commit on completion successful results&quot; /&gt;
&lt;!--- Add summary and links to other related articles ---&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">Db2 Developer Extension provides a lot of flexibility with committing and rolling back the results of running SQL statements. This granular level of control is especially useful when you’re prototyping and testing because it allows you to identify which statements run successfully and which cause errors without potentially corrupting your test system.</summary></entry><entry><title type="html">Creating stored procedures</title><link href="http://localhost:4000/2021/03/16/Creating-stored-procedures.html" rel="alternate" type="text/html" title="Creating stored procedures" /><published>2021-03-16T00:00:00-07:00</published><updated>2021-03-16T00:00:00-07:00</updated><id>http://localhost:4000/2021/03/16/Creating-stored-procedures</id><content type="html" xml:base="http://localhost:4000/2021/03/16/Creating-stored-procedures.html">&lt;p&gt;This article covers the basics of using Db2 Developer Extension to create a simple stored procedure and then explains some of the more complex things you might need to do when you create a stored procedure, such as working with DBCS data and user-defined types. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/en/SSEPEK_12.0.0/apsg/src/tpc/db2z_storedprocedure.html&quot;&gt;Stored procedures&lt;/a&gt; are a powerful tool for increasing the performance and efficiency of distributed applications. Currently, Db2 Developer Extension supports Db2 for z/OS native stored procedures, which are stored procedures that are written entirely in SQL and are created by using the &lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/SSEPEK_12.0.0/sqlref/src/tpc/db2z_sql_createproceduresqlnative.html&quot;&gt;CREATE PROCEDURE or CREATE  OR REPLACE PROCEDURE&lt;/a&gt; statement, which is available with Db2 12 function level 507 and later.&lt;/p&gt;

&lt;h2 id=&quot;creating-a-basic-stored-procedure-with-code-snippets&quot;&gt;Creating a basic stored procedure with code snippets&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Open a new &lt;strong&gt;.spsql&lt;/strong&gt; file, and start typing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CREATE PROCEDURE&lt;/code&gt;. You’ll only need to type a few letters before you see CREATE PROCEDURE in the list of available code snippets.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Select that snippet to populate your file with the basic CREATE PROCEDURE structure (in the following example, the procedure name has already been changed to MYPROCEDURE):&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/create-sp-snippet.png&quot; alt=&quot;CREATE PROCEDURE code snippet&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The snippet includes some of the more commonly used parameters and an example SELECT statement. The SELECT statement is the part of the stored procedure that gets executed when the stored procedure is called. To see all of the options that you can define in a stored procedure, open the &lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/SSEPEK_12.0.0/sqlref/src/tpc/db2z_sql_createproceduresqlnative.html&quot;&gt;link&lt;/a&gt; that is included at the top of the snippet. &lt;/p&gt;

&lt;p&gt;Now this stored procedure is ready to be deployed. To learn how, see &lt;a href=&quot;/2021/03/12/Deploying-running-and-debugging-stored-procedures-basics.html&quot;&gt;Deploying, running, and debugging stored procedures&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Now let’s look at some more complex examples.&lt;/p&gt;

&lt;h2 id=&quot;working-with-double-byte-character-set-dbcs-data&quot;&gt;Working with double-byte character set (DBCS) data&lt;/h2&gt;

&lt;p&gt;Languages such as Chinese and Japanese contain double-byte characters, which are characters that are too large to represent with a single byte.  If you write SQL applications that support double-byte character languages, you need to know a bit about how Db2 for z/OS supports DBCS data and how character translation is handled.  This section describes how to code DBCS data in a Db2 for z/OS native stored procedure. &lt;/p&gt;

&lt;p&gt;Db2 for z/OS provides DBCS support for the following data types:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;GRAPHIC:&lt;/strong&gt; A fixed-length data type that’s used to store a graphic string.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;VARGRAPHIC:&lt;/strong&gt; A varying-length data type used to store a variable-length graphic string.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;CHAR or CLOB defined with “FOR MIXED DATA”:&lt;/strong&gt; Data types that are used to store character data or mixed data (that is, a combination of single-byte character set (SBCS) characters and multi-byte character set (MBCS) characters).”&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;DBCLOB:&lt;/strong&gt; A double-byte character large object.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Tip:&lt;/strong&gt; Db2 translates all Db2 character data between the internal Db2 table Code Character Set Identifier (CCSID) and the external application CCSID.&lt;/p&gt;

&lt;p&gt;The following example shows a user-defined type stored procedure that includes a double-byte DBCLOB variable. When you create a stored procedure that includes DBCLOB parameters, you need to specify &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PARAMETER CCSID UNICODE&lt;/code&gt;, and if the stored procedure includes DBCLOBs in the body, you need to specify &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;APPLICATION ENCODING SCHEMA UNICODE&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CREATE PROCEDURE ADMF001.TEST_DBCLOB (
  IN VAR1 DBCLOB,
  INOUT VAR2 DBCLOB,
  OUT VAR3 DBCLOB
  )
  APPLICATION ENCODING SCHEME UNICODE
  PARAMETER CCSID UNICODE
  VERSION V1
  ISOLATION LEVEL CS
  LANGUAGE SQL
  BEGIN
    SET VAR2 = '你好';
    SET VAR3 = VAR1;
  END
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Setting this input returns the following output:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;VAR1  IN: HELLOWORLD
VAR2 OUT: 你好
VAR3 OUT: HELLOWORLD
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;working-with-user-defined-types-distinct&quot;&gt;Working with user-defined types: Distinct&lt;/h2&gt;

&lt;p&gt;You can create and use a custom data type that’s called a &lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/en/SSEPEK_12.0.0/sqlref/src/tpc/db2z_distincttypessql.html&quot;&gt;user-defined distinct type&lt;/a&gt; in Db2 for z/OS. For example, let’s say that you keep email documents that are sent to your company in a Db2 table. The Db2 data type of an email document is a CLOB, but you define it as a distinct type so that you can control the types of operations that are performed on the email data. The distinct type is defined like this:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CREATE DISTINCT TYPE E_MAIL AS CLOB(5M); 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Now you can define and write a native stored procedure or user-defined function to search for and return the following information about an email document: &lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Subject &lt;/li&gt;
  &lt;li&gt;Sender &lt;/li&gt;
  &lt;li&gt;Date sent &lt;/li&gt;
  &lt;li&gt;Message content &lt;/li&gt;
  &lt;li&gt;Indicator of whether the document contains a user-specified string.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The following example shows how to create a user-defined distinct type for a currency (US_DOLLAR), how to include it in a stored procedure, and how to do some calculations. &lt;/p&gt;

&lt;p&gt;Note that the US_DOLLAR distinct type does not automatically inherit the functions and operators of its source type, DECIMAL. You can use &lt;strong&gt;casting&lt;/strong&gt; functions to assign values other than host variables. Also, the DISTINCT keyword is optional.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CREATE DISTINCT TYPE US_DOLLAR AS DECIMAL(9,2);
CREATE TYPE EURO AS DECIMAL(9,2);
 
CREATE PROCEDURE ADMF001.SALESSUM (
   IN DOLLAR_AMOUNT US_DOLLAR,
   IN EURO_AMOUNT EURO,
   OUT TOTAL_DOLLAR US_DOLLAR,
   OUT TOTAL_EURO EURO
  )
  LANGUAGE SQL
  VERSION V1
  ISOLATION LEVEL CS 
  BEGIN
    SET TOTAL_DOLLAR = DECIMAL(DOLLAR_AMOUNT)*200;
    SET TOTAL_EURO = DECIMAL(EURO_AMOUNT)+300.07;
  END
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Setting this input returns the following output:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;DOLLAR_AMOUNT  IN: 34.50
EURO_AMOUNT    IN: 500
TOTAL_DOLLAR  OUT: 6900.00
TOTAL_DOLLAR  OUT: 30507.00
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;working-with-user-defined-types-arrays&quot;&gt;Working with user-defined types: Arrays&lt;/h2&gt;

&lt;p&gt;An array value is a structure that contains an ordered collection of elements. Arrays make it easier to exchange long lists of values with the Db2 server. You can create a user-defined data type for an array in Db2 for z/OS.&lt;/p&gt;

&lt;p&gt;The following example shows how to create an ordinary array user-defined type (PHONENUMBERS) that can contain a maximum of 50 elements. The elements are of the DECIMAL(10,0) data type. The array index starts with 1. &lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CREATE TYPE PHONENUMBERS AS DECIMAL(10,0) ARRAY[50];

CREATE PROCEDURE ADMF001.TESTPROC(
   IN PHONENUMBER PHONENUMBERS,
   OUT outPHONENUMBER PHONENUMBERS
  )
  LANGUAGE SQL
  VERSION V1
  ISOLATION LEVEL CS
  BEGIN
    SET outPHONENUMBER[1]= PHONENUMBER[1];
  END
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Setting this input returns the following output:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;PHONENUMBER      IN: [6262158888;4056789999]
outPHONENUMBER  OUT: [6262158888]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The following example shows how to create an ordinary arrays user-defined type for time and timestamp with time zone. The default TIMESTAMP WITH TIME ZONE length is 6.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CREATE TYPE TIMEARRAY AS TIME ARRAY[];
CREATE TYPE TIMESTAMPARRAY AS TIMESTAMP WITH TIME ZONE ARRAY[];

CREATE PROCEDURE ADMF001.TESTPROC (
  IN inTIME TIMEARRAY,
  IN inTIMESTAMPWITHZONE TIMESTAMPARRAY
  OUT outTIME TIME
  OUT outTIMESTAPWITHZONE TIMESTAMPARRAY
    )
  LANGUAGE SQL
  VERSION V1
  ISOLATION LEVEL CS
  BEGIN
    SET outTIME = INTIME[1];
    SET outTIMESTAMPWITHZONE[1] = inTIMESTAMPWITHZONE[1];
  END
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Setting this input returns the following output:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;inTIME               IN: [08:09:01;10:15:00;11:08:30]
inTIMESTAMPWITHZONE  IN: [2020-10-15 15:01:01.111213141516+4:00]
outTIME             OUT: 08:09:01
outTIMESTAPWITHZONE OUT: [2020-10-15 15:01:01.111213]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name></name></author><summary type="html">This article covers the basics of using Db2 Developer Extension to create a simple stored procedure and then explains some of the more complex things you might need to do when you create a stored procedure, such as working with DBCS data and user-defined types. </summary></entry><entry><title type="html">Tips and tricks</title><link href="http://localhost:4000/2021/03/13/Tips-and-tricks.html" rel="alternate" type="text/html" title="Tips and tricks" /><published>2021-03-13T00:00:00-08:00</published><updated>2021-03-13T00:00:00-08:00</updated><id>http://localhost:4000/2021/03/13/Tips-and-tricks</id><content type="html" xml:base="http://localhost:4000/2021/03/13/Tips-and-tricks.html">&lt;p&gt;Visual Studio Code and Db2 Developer Extension provide a modern IDE experience for Db2 for z/OS application developers. With this transition, are you taking full advantage of the editor and extension’s features? Read along to learn how you can work more efficiently in this new development environment.&lt;/p&gt;

&lt;h2 id=&quot;visual-studio-code-tips&quot;&gt;Visual Studio Code tips&lt;/h2&gt;

&lt;p&gt;Visual Studio Code has many &lt;a href=&quot;https://code.visualstudio.com/docs/getstarted/tips-and-tricks&quot;&gt;useful features&lt;/a&gt; to increase your productivity. You can apply the following tips to many different extensions, but this article presents them from the perspective of Db2 Developer Extension.&lt;/p&gt;

&lt;h3 id=&quot;running-commands-from-the-command-palette&quot;&gt;Running commands from the Command Palette&lt;/h3&gt;

&lt;p&gt;Visual Studio Code’s &lt;a href=&quot;https://code.visualstudio.com/docs/getstarted/userinterface#_command-palette&quot;&gt;Command Palette&lt;/a&gt; allows you to execute commands quickly without navigating through the user interface. Visual Studio Code provides built-in commands, and Db2 Developer Extension provides its own commands.&lt;/p&gt;

&lt;p&gt;To run a Db2 Dev Extension command, open the &lt;strong&gt;Command Palette&lt;/strong&gt; and start typing “Db2 Developer Extension.” You’ll be presented with a list of all the extension-related commands that you can execute.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/tips-tricks-command-palette.gif&quot; alt=&quot;VS Code command palette&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;creating-your-own-code-snippets&quot;&gt;Creating your own code snippets&lt;/h3&gt;

&lt;p&gt;Visual Studio Code has built-in snippets and Db2 Dev Extension has its own snippets. If you want to create your own set of code snippets, read &lt;a href=&quot;https://code.visualstudio.com/docs/editor/userdefinedsnippets#_create-your-own-snippets&quot;&gt;Create your own snippets&lt;/a&gt; in the Visual Studio Code documentation.&lt;/p&gt;

&lt;p&gt;Here’s an example of how to create your own &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CREATE TABLESPACE&lt;/code&gt; snippet for files associated with the SQL language.&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;Open the &lt;strong&gt;Command Palette&lt;/strong&gt; and select &lt;strong&gt;Preferences: Configure User Snippets&lt;/strong&gt;.&lt;/li&gt;
  &lt;li&gt;Select &lt;strong&gt;sql (SQL)&lt;/strong&gt; from the list.&lt;/li&gt;
  &lt;li&gt;In the snippet file, paste the following content and save it.
    &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;{
  &quot;CREATE TABLESPACE statement&quot;: {
    &quot;prefix&quot;: &quot;CREATE TABLESPACE statement&quot;,
    &quot;body&quot;: [
      &quot;CREATE TABLESPACE ${1:tablespace-name}&quot;,
      &quot;\tIN ${2:database-name}&quot;,
      &quot;\tUSING STOGROUP ${3:stogroup-name};&quot;,
    ],
    &quot;description&quot;: &quot;Sample CREATE TABLESPACE statement&quot;
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Now start typing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CREATE TABLESPACE&lt;/code&gt; in any SQL file to use the snippet.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/tips-tricks-custom-snippet.gif&quot; alt=&quot;Creating a custom code snippet&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;db2-developer-extension-tips&quot;&gt;Db2 Developer Extension tips&lt;/h2&gt;

&lt;p&gt;Db2 Developer Extension provides syntax highlighting, code snippets, SQL execution support, and native stored procedure support. The following tips are useful when you’re working with the extension.&lt;/p&gt;

&lt;h3 id=&quot;changing-a-connection-name&quot;&gt;Changing a connection name&lt;/h3&gt;

&lt;p&gt;When you create a connection, a connection name is automatically generated based on the connection information. You can change this name by editing the connection and changing the &lt;strong&gt;Connection name&lt;/strong&gt; field.&lt;/p&gt;

&lt;h3 id=&quot;changing-the-connection-thats-used-to-run-sql&quot;&gt;Changing the connection that’s used to run SQL&lt;/h3&gt;

&lt;p&gt;Before you can run SQL from a file, you need to associate a Db2 connection to the file. To change the connection that’s associated with a file, open the file and click on the connection in the &lt;a href=&quot;code.visualstudio.com/docs/getstarted/userinterface.html&quot;&gt;Status Bar&lt;/a&gt;. Select a different connection from the list that’s displayed.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; The message “No connection” is displayed in the &lt;strong&gt;Status Bar&lt;/strong&gt; if a connection hasn’t been associated with the file.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/tips-tricks-change-connection.gif&quot; alt=&quot;Changing the connection used to run SQL&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This method of changing the connection also applies to running and debugging native stored procedures, but it doesn’t apply to deploying native stored procedures. You select the connection that’s used to deploy a native stored procedure in the &lt;a href=&quot;https://github.com/IBM/db2forzosdeveloperextension-about#deploying-a-native-stored-procedure&quot;&gt;Deployment options&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;comparing-sql-results&quot;&gt;Comparing SQL results&lt;/h3&gt;

&lt;p&gt;When you open SQL results for a completed execution, the results are displayed in the active &lt;a href=&quot;https://code.visualstudio.com/docs/getstarted/userinterface#_editor-groups&quot;&gt;editor group&lt;/a&gt;. To compare two SQL results side-by-side, open each set of SQL results in different editor groups.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/tips-tricks-comparing-SQL-results.gif&quot; alt=&quot;Comparing SQL results&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;saving-sql-results-to-a-file&quot;&gt;Saving SQL results to a file&lt;/h3&gt;

&lt;p&gt;Any SQL results that generate a result set can be saved to a file. To save the results to a file, open a SQL result, go to the &lt;strong&gt;Result&lt;/strong&gt; tab, and click the &lt;strong&gt;Save&lt;/strong&gt; icon. When prompted, enter the location and name of the file. Press &lt;strong&gt;Enter&lt;/strong&gt; to save the results to the specified file.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/tips-tricks-saving-SQL-results.gif&quot; alt=&quot;Saving SQL results&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;troubleshooting&quot;&gt;Troubleshooting&lt;/h2&gt;

&lt;p&gt;When the extension is not working as expected, you can check the extension’s logs to see if you can resolve the issue yourself. If you can’t resolve the issue yourself, you can open an issue on the &lt;a href=&quot;https://github.com/IBM/db2forzosdeveloperextension-about/issues&quot;&gt;extension’s GitHub Issues&lt;/a&gt; and attach the logs. The following sections describe how to enable, view, and find the extension’s logs.&lt;/p&gt;

&lt;h3 id=&quot;enabling-logging&quot;&gt;Enabling logging&lt;/h3&gt;

&lt;p&gt;When logging is enabled, Db2 Developer Extension collects information when you’re using the extension, and it collects JDBC information when you’re interacting with Db2 systems.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;To enable the extension’s logging, open the &lt;strong&gt;Command Palette&lt;/strong&gt; and select &lt;strong&gt;Preferences: Open Workspace Settings&lt;/strong&gt;. Search for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;db2forzosdeveloperextension.debug.logLevel&lt;/code&gt; setting and select a log level.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;To enable JDBC logging, edit a connection and enable the driver trace in the &lt;strong&gt;Tracing&lt;/strong&gt; tab.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;viewing-the-logs&quot;&gt;Viewing the logs&lt;/h3&gt;

&lt;p&gt;To view the logs collected by Db2 Developer Extension directly in Visual Studio Code, go to &lt;strong&gt;View &amp;gt; Output&lt;/strong&gt;. Select the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;db2forzosdeveloperextension&lt;/code&gt; channel from the dropdown menu. Only the general extension logs are printed here. Instructions for viewing the JDBC logs are provided in the following section.&lt;/p&gt;

&lt;h3 id=&quot;locating-the-log-files&quot;&gt;Locating the log files&lt;/h3&gt;

&lt;p&gt;To locate the log files that are produced by Db2 Developer Extension, open the &lt;strong&gt;Command Palette&lt;/strong&gt; and select &lt;strong&gt;Developer: Open Extension Logs Folder&lt;/strong&gt;. The logs for Db2 Developer Extension are located in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IBM.db2forzosdeveloperextension&lt;/code&gt; folder.&lt;/p&gt;

&lt;p&gt;Files that start with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;client&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;server&lt;/code&gt; are the general Db2 Developer Extension logs.  Files that start with a connection’s name are the JDBC logs for that connection.&lt;/p&gt;</content><author><name></name></author><summary type="html">Visual Studio Code and Db2 Developer Extension provide a modern IDE experience for Db2 for z/OS application developers. With this transition, are you taking full advantage of the editor and extension’s features? Read along to learn how you can work more efficiently in this new development environment.</summary></entry><entry><title type="html">Deploying, running,and debugging stored procedures</title><link href="http://localhost:4000/2021/03/12/Deploying-running-and-debugging-stored-procedures-basics.html" rel="alternate" type="text/html" title="Deploying, running,and debugging stored procedures" /><published>2021-03-12T00:00:00-08:00</published><updated>2021-03-12T00:00:00-08:00</updated><id>http://localhost:4000/2021/03/12/Deploying-running-and-debugging-stored-procedures-basics</id><content type="html" xml:base="http://localhost:4000/2021/03/12/Deploying-running-and-debugging-stored-procedures-basics.html">&lt;p&gt;This article shows you how to use Db2 Developer Extension to deploy a native SQL stored procedure (NSP) with various deployment options: enabling debug, altering previous deployments, setting target schema, and others. It also walks you through the process of debugging and running an NSP.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Tip:&lt;/strong&gt; If you’re new to stored procedures, make sure you’re familiar with the information in &lt;a href=&quot;/2021/03/16/Creating-stored-procedures.html&quot;&gt;Creating stored procedures&lt;/a&gt; first.&lt;/p&gt;

&lt;p&gt;One big advantage of using Db2 Developer Extension to deploy an NSP, as opposed to manually executing SQL, is that you can save the various deployment options separately from the SQL itself, which means that you can push your code into a source code manager, such as GitHub, without having to remove the deployment debug options first.&lt;/p&gt;

&lt;p&gt;Another advantage is that you don’t need to specify &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--#SET TERMINATOR&lt;/code&gt; in the header of &lt;strong&gt;.spsql&lt;/strong&gt; files. Db2 Developer Extension uses the number sign character (#) as the default terminator character, but you can use any terminator character you want by setting a SQL routine option (explained later in this article).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Currently, Db2 Developer Extension deploy, debug, and run options support only one NSP per &lt;strong&gt;.spsql&lt;/strong&gt; file. When NSP options are specified, only the first NSP in the file will be executed; additional NSPs and SQL statements will be ignored.&lt;/p&gt;

&lt;p&gt;We’ll use the following example stored procedure throughout this article to demonstrate how to deploy, run, and debug an NSP. This NSP will read the total salary, including bonuses, from the table &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DSN8B10.EMP&lt;/code&gt; from a passed in-parameter &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DEPTNUMBER&lt;/code&gt;. You can paste it into a file so that you try things out for yourself.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;RETURNDEPTSALARY.spsql&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CREATE PROCEDURE ADMF001.RETURNDEPTSALARY
 (IN DEPTNUMBER CHAR(3),
  OUT DEPTSALARY DECIMAL(15,2),
  OUT DEPTBONUSCNT INT)
 LANGUAGE SQL
 READS SQL DATA
 P1: BEGIN
     DECLARE EMPLOYEE_SALARY DECIMAL(9,2);
     DECLARE EMPLOYEE_BONUS DECIMAL(9,2);
     DECLARE TOTAL_SALARY DECIMAL(15,2) DEFAULT 0;
     DECLARE BONUS_CNT INT DEFAULT 0;
     DECLARE END_TABLE INT DEFAULT 0;
     DECLARE C1 CURSOR FOR
      SELECT SALARY, BONUS FROM DSN8B10.EMP
       WHERE WORKDEPT = DEPTNUMBER;
     DECLARE CONTINUE HANDLER FOR NOT FOUND
      SET END_TABLE = 1;
     DECLARE EXIT HANDLER FOR SQLEXCEPTION
      SET DEPTSALARY = NULL;
     OPEN C1;
     FETCH C1 INTO EMPLOYEE_SALARY, EMPLOYEE_BONUS;
     WHILE END_TABLE = 0 DO
      SET TOTAL_SALARY = TOTAL_SALARY + EMPLOYEE_SALARY + EMPLOYEE_BONUS;
      IF EMPLOYEE_BONUS &amp;gt; 0 THEN
       SET BONUS_CNT = BONUS_CNT + 1;
      END IF;
      FETCH C1 INTO EMPLOYEE_SALARY, EMPLOYEE_BONUS;
     END WHILE;
     CLOSE C1;
     SET DEPTSALARY = TOTAL_SALARY;
     SET DEPTBONUSCNT = BONUS_CNT;
 END P1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here’s how that same stored procedure looks in Db2 Developer Extension:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/nsp-basics-example-nsp.png&quot; alt=&quot;Example stored procedure&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The file extension of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.spsql&lt;/code&gt; identifies it as a stored procedure. When you open a &lt;strong&gt;.spsql&lt;/strong&gt; file in Db2 Developer Extension, you get some additional actions in the toolbar in the upper right corner of the view:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/nsp-basics-action-toolbar.png&quot; alt=&quot;Deploy, Debug, Run, action icons&quot; /&gt;&lt;/p&gt;

&lt;p&gt;From left to right, these actions are &lt;strong&gt;Deploy&lt;/strong&gt;, &lt;strong&gt;Debug&lt;/strong&gt;, and &lt;strong&gt;Run&lt;/strong&gt;. We’ll cover each one in the following sections.&lt;/p&gt;

&lt;h2 id=&quot;deploying-a-stored-procedure&quot;&gt;Deploying a stored procedure&lt;/h2&gt;

&lt;p&gt;Click the &lt;strong&gt;Deploy&lt;/strong&gt; action to open the &lt;strong&gt;Deployment&lt;/strong&gt; view. This is where you can set and customize deployment options and save the options for the &lt;strong&gt;.spsql&lt;/strong&gt; file. These options are used only during deployment and do not impact the DDL source code.&lt;/p&gt;

&lt;p&gt;The &lt;strong&gt;Deployment&lt;/strong&gt; view consists of two sections: &lt;strong&gt;Deployment options&lt;/strong&gt; and &lt;strong&gt;Routine options&lt;/strong&gt;.&lt;/p&gt;

&lt;h3 id=&quot;deployment-options&quot;&gt;Deployment options&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/nsp-basics-deployment-options.png&quot; alt=&quot;Deployment options&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Use the &lt;strong&gt;Database connection&lt;/strong&gt; option to select a connection from the list of defined connections. See &lt;a href=&quot;/2021/03/12/Getting-started.html&quot;&gt;Getting started&lt;/a&gt; for more information about creating database connections.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Use the &lt;strong&gt;Target schema&lt;/strong&gt; option for unqualified NSPs. This field is enabled only for unqualified NSPs. If the NSP is qualified (like the one in our example CREATE PROCEDURE statement, which is qualified to ADMF001), the field is disabled. If you leave this field empty, the JDBC property &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;currentSchema&lt;/code&gt; will be used. If &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;currentSchema&lt;/code&gt; is not set, the JDBC connection username will be used.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Use the &lt;strong&gt;Build owner&lt;/strong&gt; option to specify the owner of the NSP. If this field is left empty, the JDBC property &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;currentSQLID&lt;/code&gt; will be used. If &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;currentSQLID&lt;/code&gt; is not set, the JDBC connection username will be used.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Use the &lt;strong&gt;Default path&lt;/strong&gt; option for resolving an unqualified data type, function, or procedure referenced by the procedure that’s being deployed. You can specify multiple schemas, each one separated by a comma. For example:
    &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &quot;ADMF002&quot;,&quot;ADMF003&quot;,&quot;ADMF004&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Use the &lt;strong&gt;Duplicate handling&lt;/strong&gt; option to specify the behavior of the deployment if the procedure already exists:&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;
        &lt;p&gt;&lt;strong&gt;Alter duplicates&lt;/strong&gt; modifies the CREATE PROCEDURE DDL to ALTER PROCEDURE if the procedure already exists.&lt;/p&gt;

        &lt;p&gt;&lt;strong&gt;Exception:&lt;/strong&gt; If you’re using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CREATE OR REPLACE PROCEDURE&lt;/code&gt;, which is available in Db2 12 function level 507 or later, this option does not result in any modifications.&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;&lt;strong&gt;Drop duplicates&lt;/strong&gt; calls DROP PROCEDURE before running the CREATE PROCEDURE DDL if the procedure already exists.&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;&lt;strong&gt;Treat duplicate deployments as errors&lt;/strong&gt; returns an error if the procedure already exists.&lt;/p&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Not all options mentioned above are displayed due to screen size limit.&lt;/p&gt;

&lt;p&gt;If you’re new to SQL and want more information about embedding SQL in host languages, there’s a lot of information about this topic in the &lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/en/SSEPEK_12.0.0/apsg/src/tpc/db2z_programembeddedsql.html&quot;&gt;Db2 for z/OS documentation&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;routine-options&quot;&gt;Routine options&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/nsp-basics-routine-options.png&quot; alt=&quot;Routine options&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Use the &lt;strong&gt;Enable debugging&lt;/strong&gt; option to specify whether this procedure is available to be debugged.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Use the &lt;strong&gt;WLM environment&lt;/strong&gt; option to specify which Workload Manager environment will be used to debug the procedure. If you enable debugging but leave this field empty, the default WLM environment will used.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Use the &lt;strong&gt;ASU time limit&lt;/strong&gt; option to set the ASUTIME, which is the number of CPU seconds permitted for each SQL statement. The default value of 0 means NO LIMIT.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Use the &lt;strong&gt;Additional routine options&lt;/strong&gt; field to specify any additional options that you want to include. Separate each option with a semicolon. For example:&lt;/p&gt;
    &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; QUALIFIER ADMF002; ISOLATION LEVEL RS
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;p&gt;Click &lt;strong&gt;Deploy&lt;/strong&gt; to finish the configuration and begin the deployment process for the procedure.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;debugging-a-stored-procedure&quot;&gt;Debugging a stored procedure&lt;/h2&gt;

&lt;p&gt;The &lt;strong&gt;Debug&lt;/strong&gt; action allows you to debug your stored procedure by using the native IDE debugger. You can set breakpoints in the editor, and you can watch values change over time in the debug environment (note that conditional breakpoints currently aren’t supported). You can also specify additional debugging options by using the &lt;strong&gt;Run SQL Options&lt;/strong&gt; dialog, which is described later in this article. If input variables are specified in the SQL, you’ll be prompted to specify values for them before the SQL goes through debugging.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; This section covers basic debugging. For more advanced debugging scenarios, see &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;insert hyperlink to advanced debugger article&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Click the &lt;strong&gt;Debug&lt;/strong&gt; action to start debugging process. If your NSP contains input variables, you’ll be prompted to specify values for them before the SQL goes through debugging, as shown in the following figure. Note that built-in data types for each input variable are detected automatically and are set to the correct data type.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/nsp-basics-debug-parameters.png&quot; alt=&quot;Input parameters for debugging&quot; /&gt;&lt;/p&gt;

&lt;p&gt;After you specify input parameter values, click &lt;strong&gt;Debug&lt;/strong&gt;. Set the breakpoints for where you want the debugger to pause execution:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/nsp-basics-debug-process.png&quot; alt=&quot;Debug process&quot; /&gt;&lt;/p&gt;

&lt;p&gt;When the debugging process starts, the following toolbar is displayed at the top of the view:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/nsp-basics-debug-toolbar.png&quot; alt=&quot;Debugging toolbar&quot; /&gt;&lt;/p&gt;

&lt;p&gt;You use this toolbar to step through your code. From left to right, these actions are:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Continue&lt;/strong&gt; execution of the program until it hits a breakpoint, encounters an error, or completes&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Step Over&lt;/strong&gt; to the next line of the program in the same code level&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Step Into&lt;/strong&gt; the program to enter a deeper code level if the current line is a method&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Step Out&lt;/strong&gt; to the caller if the current code level is inside a method&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Restart&lt;/strong&gt; the debugging program&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Stop&lt;/strong&gt; the debugging program&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Click the &lt;strong&gt;Run and Debug&lt;/strong&gt; icon in the &lt;strong&gt;Activity Bar&lt;/strong&gt; (&lt;img src=&quot;/assets/images/nsp-basics-run-and-debug-icon.png&quot; alt=&quot;Run and Debug icon&quot; /&gt;) to display the following sections:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;The &lt;strong&gt;Variables&lt;/strong&gt; section contains variables declared through program execution and keeps track of the defined value of each variable as the debugger works its way through the code.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Use the &lt;strong&gt;Watch&lt;/strong&gt; section to specify variables or expressions that you want to be evaluated by the debugger.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;The &lt;strong&gt;Call stack&lt;/strong&gt; section keeps track of the current code level during debugger execution.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;The &lt;strong&gt;Breakpoints&lt;/strong&gt; section keeps track of the breakpoints set throughout the code module.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For more information about debugging your code in Visual Studio Code, see https://code.visualstudio.com/docs/editor/debugging.&lt;/p&gt;

&lt;h2 id=&quot;running-a-stored-procedure&quot;&gt;Running a stored procedure&lt;/h2&gt;

&lt;p&gt;Click the &lt;strong&gt;Run&lt;/strong&gt; action to start execution process. If your NSP contains input variables, you’ll be prompted to specify values for them before the NSP executes, as shown in the following figure. Note that built-in data types for each input variable are detected automatically and are set to the correct data type.&lt;/p&gt;

&lt;p&gt;If you have an input type that’s an array, you’d specify the values like this:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;numeric:   [1; 2; 3]
character: [hello; world]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/nsp-basics-run-parameters.png&quot; alt=&quot;Input parameters for running&quot; /&gt;&lt;/p&gt;

&lt;p&gt;After your NSP is executed, the following output is displayed in these tabs:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The &lt;strong&gt;Status&lt;/strong&gt; tab contains overall execution status. If an error occurred, the status will contain &lt;strong&gt;SQL code&lt;/strong&gt;, &lt;strong&gt;SQL state&lt;/strong&gt;, and &lt;strong&gt;Message text&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/nsp-basics-status-tab.png&quot; alt=&quot;Status tab&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The &lt;strong&gt;Parameters&lt;/strong&gt; tab contains variable information for passed-in parameters.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/nsp-basics-parameters-tab.png&quot; alt=&quot;Parameters tab&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The &lt;strong&gt;SQL Results&lt;/strong&gt; view contains data if a result set is expected (in our NSP example, a result set isn’t expected so the &lt;strong&gt;Result&lt;/strong&gt; tab isn’t shown).&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;specifying-additional-options&quot;&gt;Specifying additional options&lt;/h2&gt;

&lt;p&gt;You can specify and save additional NSP debug and run options by right-clicking inside the editor and selecting &lt;strong&gt;Run SQL Options&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/nsp-basics-run-sql-options.png&quot; alt=&quot;Run SQL Options&quot; /&gt;&lt;/p&gt;

&lt;p&gt;…which opens the &lt;strong&gt;JDBC runtime options&lt;/strong&gt; view:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/nsp-basics-jdbc-runtime-options.png&quot; alt=&quot;JDBC runtime options&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This article covers just the following options that you can set in this view:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Use the &lt;strong&gt;Statement terminator character&lt;/strong&gt; option to set the statement terminator for the file.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Use the &lt;strong&gt;Current schema&lt;/strong&gt; option for resolving regular object types such as tables, views, and indexes.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Use the &lt;strong&gt;Current path&lt;/strong&gt; option for resolving an unqualified data type, function, or procedure referenced by the procedure that is being deployed.  You can specify multiple schemas by separating each one with a comma. For example:&lt;/p&gt;
    &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &quot;ADMF002&quot;,&quot;ADMF003&quot;,&quot;ADMF004&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;About commit and rollback options:&lt;/strong&gt; The commit and rollback options behave a little differently with stored procedures. First, by default, all stored procedures run with COMMIT ON RETURN NO. You can change this behavior by including the COMMIT ON RETURN YES clause in your stored procedure DDL. If you need more control over the SQL statements in a stored procedure at the unit of work level, see &lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/SSEPEK_12.0.0/apsg/src/tpc/db2z_commitrollbacksp.html&quot;&gt;COMMIT and ROLLBACK statements in a stored procedure&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Second, Db2 Developer Extension runs only the first stored procedure in a file and ignores any other SQL statements that you might have selected to run. If you select &lt;strong&gt;Commit on completion&lt;/strong&gt; or &lt;strong&gt;Rollback changes on completion&lt;/strong&gt;, processing will end after the first stored procedure is processed, even if you intended to run additional SQL statements in that same file. See &lt;a href=&quot;/2021/03/16/Committing-and-rolling-back-changes.html&quot;&gt;Committing and rolling back changes&lt;/a&gt; for more information.&lt;/p&gt;</content><author><name></name></author><summary type="html">This article shows you how to use Db2 Developer Extension to deploy a native SQL stored procedure (NSP) with various deployment options: enabling debug, altering previous deployments, setting target schema, and others. It also walks you through the process of debugging and running an NSP.</summary></entry><entry><title type="html">Getting started</title><link href="http://localhost:4000/2021/03/12/Getting-started.html" rel="alternate" type="text/html" title="Getting started" /><published>2021-03-12T00:00:00-08:00</published><updated>2021-03-12T00:00:00-08:00</updated><id>http://localhost:4000/2021/03/12/Getting-started</id><content type="html" xml:base="http://localhost:4000/2021/03/12/Getting-started.html">&lt;p&gt;Db2 for z/OS Developer Extension provides a number of features that make it easy for you to write well-formed SQL, including code snippets, syntax highlighting, code completion, and signature help.  It also also provides built-in capability for connecting to Db2 for z/OS databases and running your SQL. This article provides an introduction to using these basic features.&lt;/p&gt;

&lt;h2 id=&quot;creating-a-simple-sql-statement&quot;&gt;Creating a simple SQL statement&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Open the Db2 Developer Extension view in Visual Studio Code either by clicking &lt;strong&gt;View &amp;gt; Extensions&lt;/strong&gt; and selecting it from the list of extensions or by clicking the following icon in the &lt;strong&gt;Activity Bar&lt;/strong&gt;: &lt;img src=&quot;/assets/images/getting-started-dde-icon.png&quot; alt=&quot;Db2 Developer Extension icon&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Now, create a new file by clicking &lt;strong&gt;File &amp;gt; New File&lt;/strong&gt;. Save your file as &lt;em&gt;anyname&lt;/em&gt;.sql. The &lt;strong&gt;.sql&lt;/strong&gt; suffix identifies the file to Db2 Developer Extension as an SQL file, so as soon as you save it you can start using Db2 Developer Extension’s editing features.&lt;/p&gt;

    &lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Although our examples use a &lt;strong&gt;.sql&lt;/strong&gt; file, you can embed SQL in any type of file and run that SQL directly from Db2 Developer Extension. See &lt;a href=&quot;/2021/03/12/Running-SQL-from-different-types-of-files.html&quot;&gt;Running SQL from different types of files&lt;/a&gt; for more information.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Type the first letters of the SELECT statement. You’ll only need to type a few letters before &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SELECT statement&lt;/code&gt; shows up in the list of available SQL elements. &lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/assets/images/getting-started-select-snippet.png&quot; alt=&quot;SELECT statement code snippet&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Click &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SELECT statement&lt;/code&gt; to insert a code snippet that provides the basic structure of this statement, including required and commonly used parameters.&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/assets/images/getting-started-select-snippet-structure.png&quot; alt=&quot;SELECT statement code snippet&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;Notice a few things about the code that was added:&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;
        &lt;p&gt;The snippet contains just the basic parameters. Many SQL statements have a ton of parameters, too many for even the most experienced developer to remember, so a link to the complete syntax is provided at the top of the snippet.&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;The syntax elements are color coded based on element type. For example, keywords are one color and variables are a different color. Syntax highlighting makes it easier to parse your code and to pick out the elements that you’re looking for. Also, if you prefer to use a different color scheme, you can &lt;a href=&quot;https://community.ibm.com/community/user/ibmz-and-linuxone/blogs/kendrick-ren1/2020/08/18/customizing-themes-for-sql-syntax-in-vsc&quot;&gt;customize the highlighting theme&lt;/a&gt; to suit your preferences.&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;Hover over one of the elements that’s underlined with a squiggly line, such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;search-condition&lt;/code&gt;,  and notice that a message is displayed that indicates a syntax error. Whenever possible, these messages include potential fixes for the syntax error. To display all of the syntax errors in a file, you can click &lt;strong&gt;View problems&lt;/strong&gt; in one of these pop-up messages or you can open the &lt;strong&gt;PROBLEMS&lt;/strong&gt; by clicking &lt;strong&gt;View &amp;gt; Problems&lt;/strong&gt;. &lt;/p&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Let’s get back to that SELECT statement. Highlight &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;column-name&lt;/code&gt; after the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SELECT&lt;/code&gt; keyword, type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LOC&lt;/code&gt; and press &lt;strong&gt;Ctrl + Space&lt;/strong&gt;. The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LOCATE_IN_STRING&lt;/code&gt; clause shows up in a list of available syntax elements. Select it to insert it, then type an open parenthesis to display a description of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LOCATE_IN_STRING&lt;/code&gt; syntax and a link to detailed reference information about it. &lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/getting-started-code-completion.png&quot; alt=&quot;Code completion for LOCATE_IN_STRING&quot; /&gt;&lt;/p&gt;

&lt;p&gt;These features are useful when you know which syntax element you want to insert, but maybe you don’t know the precise syntax that you need to enter. They also save you time and reduce the chance that you enter something incorrectly.&lt;/p&gt;

&lt;h2 id=&quot;creating-a-database-connection&quot;&gt;Creating a database connection&lt;/h2&gt;

&lt;p&gt;Before you can run your SQL, you need to connect to the Db2 for z/OS subsystem that contains the database that you want to work with. You can use Db2 Developer Extension’s integrated database connection capability to add a connection.&lt;/p&gt;

&lt;p&gt;From the &lt;strong&gt;CONNECTIONS&lt;/strong&gt; menu in the right side bar, click the plus sign (&lt;strong&gt;+&lt;/strong&gt;) to open the &lt;strong&gt;Add Connection&lt;/strong&gt; dialog.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/getting-started-add-connection.png&quot; alt=&quot;Adding a database connection&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Use the &lt;strong&gt;General&lt;/strong&gt; tab to specify basic connection information about the Db2 subsystem and valid user credentials for connecting to that Db2 subsystem.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;If you run into problems when you define a new connection or when you run your SQL against an existing connection, and those problems are related to the data server driver, open the &lt;strong&gt;Tracing&lt;/strong&gt; tab and turn &lt;strong&gt;Enable driver trace&lt;/strong&gt; to &lt;strong&gt;On&lt;/strong&gt;. The Troubleshooting section of &lt;a href=&quot;/2021/03/13/Tips-and-tricks.html&quot;&gt;Tips and tricks&lt;/a&gt; provides more information about the logs that are produced when you enable tracing.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;If you want to include &lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/SSEPEK_12.0.0/java/src/tpc/imjcc_r0052607.html&quot;&gt;additional properties&lt;/a&gt; in your database connection, open the &lt;strong&gt;Optional&lt;/strong&gt; tab and enter the property name and assign it a value. Select the checkbox to the left of a property to include it in a database connection. Click the blue plus sign (&lt;strong&gt;+&lt;/strong&gt;) to add a new line.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;When you’re done, click &lt;strong&gt;Finish&lt;/strong&gt;. If your database connection was created successfully, it’ll be added to the &lt;strong&gt;CONNECTIONS&lt;/strong&gt; menu in the right side bar. If not, open the &lt;strong&gt;Tracing&lt;/strong&gt; tab, enable tracing, and try again. Then, check the logs for more information about why the connection isn’t being added.&lt;/p&gt;

&lt;h2 id=&quot;running-an-sql-statement&quot;&gt;Running an SQL statement&lt;/h2&gt;

&lt;p&gt;When you have some valid SQL and you have a valid database connection, you’re just about ready to run it. There’s a little bit of optional set up you might want to do first.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Create and save a simple SQL statement. For example, the following statement selects the entire contents (a single row) of the Db2 sample table SYSIBM.SYSDUMMY1:
    &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;SELECT * FROM
SYSIBM.SYSDUMMY1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Right-click anywhere in your .sql file and select &lt;strong&gt;Run SQL Options&lt;/strong&gt; from the context menu to open the following view:&lt;/p&gt;

    &lt;p&gt;&lt;img src=&quot;/assets/images/getting-started-run-sql-options.png&quot; alt=&quot;Run SQL Options&quot; /&gt;&lt;/p&gt;

    &lt;p&gt;Use this view to set the following options for running your SQL:&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;Whether to always use an existing database connection to run this script or open a new database connection every time you run this script.&lt;/li&gt;
      &lt;li&gt;The circumstances under which changes are &lt;a href=&quot;/2021/03/16/Committing-and-rolling-back-changes.html&quot;&gt;committed or rolled back&lt;/a&gt;.&lt;/li&gt;
      &lt;li&gt;The statement termination character to use if you don’t want to use the default semicolon (;) character.&lt;/li&gt;
      &lt;li&gt;Values for the &lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/SSEPEK_12.0.0/sqlref/src/tpc/db2z_currentschema.html&quot;&gt;CURRENT SCHEMA&lt;/a&gt; and &lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/SSEPEK_12.0.0/sqlref/src/tpc/db2z_currentpath.html&quot;&gt;CURRENT PATH&lt;/a&gt; special registers and whether these values are always converted to uppercase letters.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Now, you can run your SQL by using any of the following methods:&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;
        &lt;p&gt;Right-click anywhere in your SQL file and click &lt;strong&gt;Run All&lt;/strong&gt;.&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;Highlight your SELECT statement, right-click anywhere in your SQL file and click &lt;strong&gt;Run Selected SQL&lt;/strong&gt;. This option is useful for testing and debugging individual SQL statements.&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;Use the Visual Studio Code &lt;a href=&quot;/2021/03/13/Tips-and-tricks.html#running-commands-from-the-command-palette&quot;&gt;Command Palette&lt;/a&gt;.&lt;/p&gt;
      &lt;/li&gt;
    &lt;/ul&gt;

    &lt;p&gt;The results are displayed in the &lt;strong&gt;SQL Results&lt;/strong&gt; page that opens when the statement completes and stored in the &lt;strong&gt;Query History&lt;/strong&gt; list. You can also save the results in a &lt;strong&gt;.csv&lt;/strong&gt; file or in a spreadsheet.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;When you’re comfortable with using the basic features of Db2 Developer Extension, check out &lt;a href=&quot;/2021/03/13/Tips-and-tricks.html&quot;&gt;Tips and tricks&lt;/a&gt; and  &lt;a href=&quot;/2021/03/16/Creating-stored-procedures.html&quot;&gt;Creating stored procedures&lt;/a&gt; to learn more about Db2 Developer Extension’s capabilities.&lt;/p&gt;</content><author><name></name></author><summary type="html">Db2 for z/OS Developer Extension provides a number of features that make it easy for you to write well-formed SQL, including code snippets, syntax highlighting, code completion, and signature help.  It also also provides built-in capability for connecting to Db2 for z/OS databases and running your SQL. This article provides an introduction to using these basic features.</summary></entry><entry><title type="html">Running SQL from different types of files</title><link href="http://localhost:4000/2021/03/12/Running-SQL-from-different-types-of-files.html" rel="alternate" type="text/html" title="Running SQL from different types of files" /><published>2021-03-12T00:00:00-08:00</published><updated>2021-03-12T00:00:00-08:00</updated><id>http://localhost:4000/2021/03/12/Running-SQL-from-different-types-of-files</id><content type="html" xml:base="http://localhost:4000/2021/03/12/Running-SQL-from-different-types-of-files.html">&lt;p&gt;A unique and extremely useful feature of Db2 Developer Extension is the ability to run your SQL code directly from any type of file without modifying it to accommodate the syntax rules of the language that you’re writing in. Whether you’re writing in a traditional mainframe language such as COBOL, PL/I, JCL or C or in a modern language such as Python, Node.js, or Rust, or even playing around by using a text file, you can embed your SQL in the file, select it, run it, and view the results.&lt;/p&gt;

&lt;p&gt;This feature is useful for validating your SQL code from directly within the host language file, without the overhead of copying and pasting it into a &lt;strong&gt;.sql&lt;/strong&gt; or, for stored procedures, into a &lt;strong&gt;.spsql&lt;/strong&gt; file first.&lt;/p&gt;

&lt;p&gt;Using this feature is pretty straightforward. The only prerequisite is that you have a database connection.  You can associate a specific connection to the file that you want to run your SQL from, but if you don’t, Db2 Developer Extension will try to establish a connection for you.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Open a file and add a SQL statement.&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;As an optional step, you can specify JDBC runtime options by right-clicking anywhere in the editor and selecting &lt;strong&gt;Run SQL Options&lt;/strong&gt; from the context menu.&lt;/p&gt;

    &lt;p&gt;For example, you can specify commit and rollback settings, and you can set the &lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/SSEPEK_12.0.0/sqlref/src/tpc/db2z_currentschema.html&quot;&gt;CURRENT SCHEMA&lt;/a&gt; and &lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/SSEPEK_12.0.0/sqlref/src/tpc/db2z_currentpath.html&quot;&gt;CURRENT PATH&lt;/a&gt; special registers. For information about the commit and rollback options, see  &lt;a href=&quot;/2021/03/16/Committing-and-rolling-back-changes.html&quot;&gt;Committing and rolling back changes&lt;/a&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Highlight the statement, right-click it, and select &lt;strong&gt;Run Selected&lt;/strong&gt; SQL from the context menu.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;That’s it. Results are displayed in the &lt;strong&gt;SQL Results&lt;/strong&gt; page that opens when the statement completes and stored in the &lt;strong&gt;Query History&lt;/strong&gt; list.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/runsql-results.png&quot; alt=&quot;SQL Results view&quot; /&gt;&lt;/p&gt;

&lt;p&gt;One other thing: if you’re coding in a .sql file, you can use &lt;strong&gt;Run Selected SQL&lt;/strong&gt; to run just the specific statements that you’re working on, or you can run the entire file by selecting &lt;strong&gt;Run All&lt;/strong&gt;. &lt;/p&gt;

&lt;p&gt;If you’re new to SQL and want more information about embedding SQL in host languages, there’s a lot of information about this topic in the &lt;a href=&quot;https://www.ibm.com/support/knowledgecenter/en/SSEPEK_12.0.0/apsg/src/tpc/db2z_programembeddedsql.html&quot;&gt;Db2 for z/OS documentation&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;examples&quot;&gt;Examples&lt;/h2&gt;

&lt;p&gt;The following examples show this feature in action with several different programming languages.&lt;/p&gt;

&lt;h3 id=&quot;c-example&quot;&gt;C example&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/assets/images/runsql-c-example.png&quot; alt=&quot;C example&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;cobol-example&quot;&gt;COBOL example&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/assets/images/runsql-cobol-example.png&quot; alt=&quot;COBOL example&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;java-example&quot;&gt;Java example&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/assets/images/runsql-java-example.png&quot; alt=&quot;java example&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;jcl-example&quot;&gt;JCL example&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/assets/images/runsql-jcl-example.png&quot; alt=&quot;JCL example&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;nodejs-example&quot;&gt;Node.js example&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/assets/images/runsql-nodejs-example.png&quot; alt=&quot;Node.js example&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;python-example&quot;&gt;Python example&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/assets/images/runsql-python-example.png&quot; alt=&quot;SPython example&quot; /&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">A unique and extremely useful feature of Db2 Developer Extension is the ability to run your SQL code directly from any type of file without modifying it to accommodate the syntax rules of the language that you’re writing in. Whether you’re writing in a traditional mainframe language such as COBOL, PL/I, JCL or C or in a modern language such as Python, Node.js, or Rust, or even playing around by using a text file, you can embed your SQL in the file, select it, run it, and view the results.</summary></entry><entry><title type="html">Welcome to Jekyll!</title><link href="http://localhost:4000/jekyll/update/2021/02/04/welcome-to-jekyll.html" rel="alternate" type="text/html" title="Welcome to Jekyll!" /><published>2021-02-04T15:29:13-08:00</published><updated>2021-02-04T15:29:13-08:00</updated><id>http://localhost:4000/jekyll/update/2021/02/04/welcome-to-jekyll</id><content type="html" xml:base="http://localhost:4000/jekyll/update/2021/02/04/welcome-to-jekyll.html">&lt;p&gt;You’ll find this post in your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_posts&lt;/code&gt; directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the site in many different ways, but the most common way is to run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jekyll serve&lt;/code&gt;, which launches a web server and auto-regenerates your site when a file is updated.&lt;/p&gt;

&lt;p&gt;Jekyll requires blog post files to be named according to the following format:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;YEAR-MONTH-DAY-title.MARKUP&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Where &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;YEAR&lt;/code&gt; is a four-digit number, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MONTH&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DAY&lt;/code&gt; are both two-digit numbers, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MARKUP&lt;/code&gt; is the file extension representing the format used in the file. After that, include the necessary front matter. Take a look at the source for this post to get an idea about how it works.&lt;/p&gt;

&lt;p&gt;Jekyll also offers powerful support for code snippets:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Hi, &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Tom'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#=&amp;gt; prints 'Hi, Tom' to STDOUT.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Check out the &lt;a href=&quot;https://jekyllrb.com/docs/home&quot;&gt;Jekyll docs&lt;/a&gt; for more info on how to get the most out of Jekyll. File all bugs/feature requests at &lt;a href=&quot;https://github.com/jekyll/jekyll&quot;&gt;Jekyll’s GitHub repo&lt;/a&gt;. If you have questions, you can ask them on &lt;a href=&quot;https://talk.jekyllrb.com/&quot;&gt;Jekyll Talk&lt;/a&gt;.&lt;/p&gt;</content><author><name></name></author><category term="jekyll" /><category term="update" /><summary type="html">You’ll find this post in your _posts directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the site in many different ways, but the most common way is to run jekyll serve, which launches a web server and auto-regenerates your site when a file is updated.</summary></entry></feed>